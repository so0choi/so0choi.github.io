<!DOCTYPE html><html lang="ko" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>StudyYeong - 기록용 블로그</title><meta name="author" content="Soyeong Choi"><meta name="copyright" content="Soyeong Choi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Personal IT Diary">
<meta property="og:type" content="website">
<meta property="og:title" content="StudyYeong">
<meta property="og:url" content="https://so0choi.github.io/page/3/index.html">
<meta property="og:site_name" content="StudyYeong">
<meta property="og:description" content="Personal IT Diary">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://so0choi.github.io/img/avatar.png">
<meta property="article:author" content="Soyeong Choi">
<meta property="article:tag" content="Node.js, React, AWS, Typescript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://so0choi.github.io/img/avatar.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://so0choi.github.io/page/3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-175983012-1"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'UA-175983012-1')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'UA-175983012-1', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '복사 성공',
    error: '복사 실패',
    noSupport: '브라우저가 지원되지 않음'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '방금',
    min: '분 전',
    hour: '시간 전',
    day: '일 전',
    month: '달 전'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '더 보기'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'StudyYeong',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-12-02 16:10:55'
}</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><a href="/archives/"><div class="headline">글</div><div class="length-num">202</div></a><a href="/tags/"><div class="headline">태그</div><div class="length-num">111</div></a><a href="/categories/"><div class="headline">카테고리</div><div class="length-num">24</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> AWS</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Algorithm</span></a></li><li><a class="site-page child" href="/"><span> Frontend</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/test.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/logo.png" alt="Logo"><span class="site-name">StudyYeong</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> AWS</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Algorithm</span></a></li><li><a class="site-page child" href="/"><span> Frontend</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">StudyYeong</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/so0choi" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:simc2644@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/09/05/React/Next-js%EB%9E%80/" title="Next.js란">Next.js란</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-09-05T00:51:04.000Z" title="작성일 2023-09-05 09:51:04">2023-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ReactJS/">ReactJS</a></span></div><div class="content">Next.js란 풀스택 애플리케이션을 만들 수 있게 해주는 React 프레임워크이다. React를 사용해 프론트를 개발한 뒤 Next.js의 추가 기능을 사용해 더욱 간편하게 개발을 하거나 최적화를 할 수 있다. Next.js는 자동으로 React에 필요한 번들링, 컴파일링 등의 작업들을 수행해준다. 따라서 사용자는 개발에만 집중할 수 있는 환경이 만들어진다. 주요 특징파일 시스템 기반 라우팅실제로 사용하면서 가장 편리하다고 느꼈던 기능이다. 파일 시스템 기반의 라우팅으로 nested routing을 구현하는 것이 굉장히 쉬웠다. Client-side와 Server-side 렌더링을 모두 사용두 가지 컴포넌트를 모두 사용함으로써 Static, dynamic 렌더링을 최적화 한다. Data fetching서버 컴포넌트에서 data fetching을 간편하게 구현할 수 있다. fetch API를 확장한 기능으로 memoization이나 Data caching 등을 사용할 수...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/09/05/Javascript/Typescript/Typescript-reducer-object-key-type/" title="Typescript reducer object key type">Typescript reducer object key type</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-09-05T00:41:47.000Z" title="작성일 2023-09-05 09:41:47">2023-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Javascript/">Javascript</a></span></div><div class="content">문제reduce를 이용해 빈 객체에 대상 배열의 string 값을 key로 사용해 값을 지정하려고 했더니 타입 에러가 발생했다. 12345const arr = [&#123;name: &#x27;a&#x27;, value: &#x27;val-a&#x27;&#125;, &#123;name: &#x27;b&#x27;, value: &#x27;val-b&#x27;&#125;, &#123;name: &#x27;c&#x27;, value: &#x27;val-c&#x27;&#125;];const names = arr.reduce((acc, cur) =&gt; &#123;    acc[cur.name] = cur[value];&#125;, &#123;&#125;)   acc[key] Element implicitly has an ‘any’ type because expression of type’string’ can’t be used to index type...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/08/31/Else/webpack-babel-loader-ts-loader-%EA%B4%80%EB%A0%A8-%EC%84%A4%EC%A0%95/" title="webpack 빌드 속도 향상시키기">webpack 빌드 속도 향상시키기</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-08-31T06:19:46.000Z" title="작성일 2023-08-31 15:19:46">2023-08-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Else/">Else</a></span></div><div class="content">webpack 빌드가 갑자기 너무 느려져서 개발 속도가 정체되었다. 최근 webpack 옵션을 바꾼 적이 있었는데 그 때문인가 하고 성능과 관련된 옵션들을 살펴보다 잘못 사용하고 있던 부분을 발견했다. devtool 옵션devtool 옵션은 webpack의 소스맵 생성 여부를 제어한다. 나는 처음 생성할 때 되어있던 설정을 그대로 사용하고 있었는데 eval-source-map 이었던 걸로 기억한다. webpack 공식 홈페이지에 따르면, 해당 옵션의 build 속도는 가장 느리다고 나와있다.  가이드를 따르면 production용으로는 none을 사용하고, 개발용으로는 eval 을 사용할 것을 추천하고 있다. babel-loader &amp; ts-loaderjs로 작성되어있던 프론트 코드들을 시간이 날 때마다 ts로 전환하고 있다. webpack에서 typescript를 사용하는 방법은 babel-loader를 사용하는 것과 ts-loader를 사용하는 방법 두 가지가...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/08/10/NestJS/Nest-js-dependency-injection-construtor-property-based/" title="Nest.js dependency injection constructor &amp; property based">Nest.js dependency injection constructor &amp; property based</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-08-10T04:34:33.000Z" title="작성일 2023-08-10 13:34:33">2023-08-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/NestJS/">NestJS</a></span></div><div class="content">NestJS에는 dependency injection을 하는 다양한 방법이 존재한다. base service를 상속받는 구조로 작성하던 중 construction의 코드가 계속해서 반복되는 현상(bolerplate code)이 나타나 대안을 찾아보니 property based injection을 사용하면 코드 반복을 없앨 수 있음을 알게되었다. 두 방식의 장점과 단점을 정리해두려고 한다. Boilerplate code클래스에 많은 의존성이 있을 경우 각 의존성을 생성자에서 받아와 저장해야 하는데, 이 경우 생성자 코드가 길어지고 비슷한 코드가 반복된다. 이런 코드를 bolierplate code라고 한다. 1234567891011121314151617// Dependency Aclass ServiceA &#123;&#125;// Dependency Bclass ServiceB &#123;&#125;// Dependency Cclass ServiceC &#123;&#125;//...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/07/11/ReactNative/React-Native-New-Architecture/" title="React Native New Architecture">React Native New Architecture</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-07-11T01:16:50.000Z" title="작성일 2023-07-11 10:16:50">2023-07-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/React-Native/">React Native</a></span></div><div class="content">React Native는 버전 0.68부터 새로운 구조를 도입했다. 새로운 구조는 기존 구조에 있던 RN의 고질적인 성능 이슈를 해결했다. 하지만 기존 구조를 바탕으로 만들어진 라이브러리가 많기 때문에 기존의 프로젝트를 마이그레이션 하는 것은 충분히 고려해 본 다음 진행해야 할 것 같다. Old Architecture React Native는 크로스 플랫폼 애플리케이션을 개발하게 해준다. 이 말은 즉 각 OS의 Native 계층에 직접적으로 접근하지 않는다는 것이다. 그러므로 개발자가 작성한 JS 코드를 Native 세계에서 이해할 수 있도록 하는 별도의 과정이 필요했다. 기존의 구조에서는 JS로 작성된 모든 데이터가 serialize 과정을 거쳐 Bridge 라고 하는 컴포넌트를 통해 네이티브 레이어로 전달된다. Bridge를 일종의 ‘버스’라고 생각해 볼 수 있겠다. 전달받은 데이터는 deserialize 되어 데이터를 읽어 필요한 동작들이 실행된다. React...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/06/19/Else/Wowza-Low-latency-hls/" title="Wowza Streaming Engine으로 LL-HLS 스트리밍 하기">Wowza Streaming Engine으로 LL-HLS 스트리밍 하기</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-06-19T00:26:19.000Z" title="작성일 2023-06-19 09:26:19">2023-06-19</time></span></div><div class="content">HLS와 LL-HLSLL-HLS는 기존의 HLS를 확장한 프로토콜이다. HLS는 미디어를 segment라는 쪼개진 단위로 잘라 전송하는 프로토콜인데 segment duration 만큼의 latency가 발생할 수 밖에 없는 한계점을 가지고있다. HLS가 처음 발표되었을 때 기본 스펙에서는 30초의 latency를 가지고 있었으나 스트리밍 서버 튜닝으로 8~10초대로 latency를 낮추는 것이 가능했다. LL-HLS는 HLS와 달라진 동작 방식으로 latency를 2-8초 대로 단축시킨다.  차이점두 프로토콜의 차이점을 간단하게 살펴보면 아래와 같다.  HLS의 segment가 더 작은 단위로 쪼개진다. 이 mini segment는 segment가 오래 지속되는 것에 비해 짧은 시간만 존재한다. playlist가 Preload Hints 정보를 가지고 있으며 이를 통해 다운로드되어야 하는 데이터릐 크기를 미리 알 수 있다. 이를 통해 오버헤드가 줄어든다. 하지만 필수적으로...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/05/23/AWS/SQS-batch-item-failures/" title="[AWS] SQS batch item failures">[AWS] SQS batch item failures</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-05-23T02:41:23.000Z" title="작성일 2023-05-23 11:41:23">2023-05-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AWS/">AWS</a></span></div><div class="content">Snowball anti-patternsSQS에서 실패 처리된 메세지 핸들링은 매우 중요하다. 보통의 경우 Lambda가 batch를 처리하다 에러가 발생하는 경우 전체 메세지가 큐에 다시 들어가게 된다. 예를 들어 배치 크기가 100인 경우 한 번에 100개의 메세지가 처리되는 건데 77번째 메세지 처리 중 에러가 발생 할 경우 성공적으로 처리된 메세지를 포함한 전체 100개의 메세지가 다시 큐에 나타나게 된다. 결과적으로 같은 메세지가 여러 번 처리될 것이다. Dead-letter 큐가 있는 경우 실패한 메세지가 그곳으로 이동하겠지만 그렇지 않은경우 source 큐에 계속해서 다시 들어가게 되고 계속적인 메세지 처리 실패 후에는 유효 메세지 수 보다 실패했던 메세지의 수가 많아져 문제가 눈덩이처럼 불어날 것이다. 이 경우 아래와 같은 부가적인 문제들로 이어진다.  사용자 경험의 저하: batch 처리에 시간이 오래걸린다. 또는 전혀 처리되지 않을 수도 있다. 사용 비용...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/05/23/AWS/DLQ-%EB%A6%AC%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B8%8C/" title="[AWS] DLQ(Dead Letter Queue) 리드라이브">[AWS] DLQ(Dead Letter Queue) 리드라이브</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-05-23T01:48:52.000Z" title="작성일 2023-05-23 10:48:52">2023-05-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AWS/">AWS</a></span></div><div class="content">DLQSQS에서 DLQ(dead-letter queue)란  성공적으로 처리되지 않은 메세지를 담고있는 큐를 말한다. DLQ는 자동으로 설정되는 것은 아니고, 일단 큐를 생성한 후 해당 큐를 다른 큐의 DLQ로 설정하여 사용할 수 있다. DLQ도 소스 큐와 같은 유형의 큐여야 한다. FIFO 큐의 DLQ는 FIFO 큐가 되어야 하는 것이다. (스탠다드 큐도 같다) DLQ는 큐 생성 시에도 설정할 수 있고 생성 후에도 큐 편집 메뉴의 배달 못한 편지 대기열에서 설정 가능하다. DLQ 리드라이브 정상 처리되지 못한 메세지를 DLQ에서 다른 큐로 보내는 것을 ‘리드라이브’라고 한다. 큐 리드라이브는 원래 메세지를 처리하는 소스 큐로 보내는 것이 일반적이지만 다른 큐에서 처리되도록 할 수도 있다. DLQ로 지정된 큐는 콘솔에서 DLQ 리드라이브 버튼이 활성화 된 것을 확인 할 수 있다.   이 때 메세지 처리 정책을 정할 수 있다. maxReceiveCount는 최대 재처리 횟수를...</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/05/18/AWS/aws-sdk-v3-dynamodb-%EC%B0%A8%EC%9D%B4/" title="[AWS] aws-sdk v3 마이그레이션 (Node.js 18.x 런타임)">[AWS] aws-sdk v3 마이그레이션 (Node.js 18.x 런타임)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-05-18T02:13:58.000Z" title="작성일 2023-05-18 11:13:58">2023-05-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AWS/">AWS</a></span></div><div class="content">serverless로 Labmda를 컴파일하는데 aws-sdk v3를 사용하라는 warning이 계속 나타나서 이참에 업그레이드를 하기로 했다. AWS에서 sdk-v3로 코드를 바꿔주는 커맨드가 있긴한데 난 그걸로는 부족해서 이참에 리팩토링도 진행했다.v3로 버전업 되면서 달라진 점이 몇 가지 있는데 장점이 많아 업그레이드 할 시간이 있다면 바꿔보는 게 좋을 것 같다. modular package이전에는 aws-sdk 라이브러리 전체를 import해서 사용해야 했다. 1import &#123;SNS&#125; from &quot;aws-sdk&quot;;  이제 필요한 모듈만 import해서 사용할 수 있다. 1import  &#123; SNSClient &#125; from &quot;@aws-sdk/client-sns&quot;;  이렇게 전체 라이브러리가 아닌 modular package를 사용하면 전체 번들러의 크기가 줄어들기 때문에 성능 향상에 도움이 될 수 있다....</div></div></div><div class="recent-post-item"><div class="recent-post-info"><a class="article-title" href="/2023/05/18/Error/Typescript-process-env-undefined/" title="[Error] Typescript process.env undefined 이슈">[Error] Typescript process.env undefined 이슈</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">작성일</span><time datetime="2023-05-18T00:23:13.000Z" title="작성일 2023-05-18 09:23:13">2023-05-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Error/">Error</a></span></div><div class="content">아무 세팅없이 process.env를 사용하면 그 타입은 string|undefined이다. 타입스크립트가 실제로 그 환경 변수가 있는지 알 수 없기 떄문이다. 그래서 타입에러가 가끔 발생한다. 12345678const dynamoDBClient = new DynamoDBClient(&#123;    endpoint: process.env.DYNAMO_ENDPOINT,    region: process.env.REGION,    credentials: &#123;      accessKeyId: process.env.ACCESS_KEY,      secretAccessKey: process.env.SECRET_ACCESS_KEY,    &#125;,  &#125;)  이렇게 작성할 경우 DynmoDBClient 생성자 파라미터 옵션이 모두 string으로 되어있기 때문에 타입에러가 발생한다.  TS2322: Type ‘string | undefined’ is not...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/#content-inner">21</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Soyeong Choi</div><div class="author-info-description">Personal IT Diary</div><div class="site-data"><a href="/archives/"><div class="headline">글</div><div class="length-num">202</div></a><a href="/tags/"><div class="headline">태그</div><div class="length-num">111</div></a><a href="/categories/"><div class="headline">카테고리</div><div class="length-num">24</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/so0choi"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/so0choi" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:simc2644@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>공지</span></div><div class="announcement_content">Life is not all beer and skittles.</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>최근 글</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/02/nodejs-server-performance/" title="NodeJS 구조 및 성능 향상 시키기">NodeJS 구조 및 성능 향상 시키기</a><time datetime="2024-12-02T02:16:50.000Z" title="작성일 2024-12-02 11:16:50">2024-12-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/12/serverless-esbuild/" title="serverless esbuild로 패키지 사이즈 줄이기">serverless esbuild로 패키지 사이즈 줄이기</a><time datetime="2024-11-12T06:41:39.000Z" title="작성일 2024-11-12 15:41:39">2024-11-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/10/23/Javascript/error-handling/" title="Javascript 비동기 에러핸들링">Javascript 비동기 에러핸들링</a><time datetime="2024-10-23T05:02:41.000Z" title="작성일 2024-10-23 14:02:41">2024-10-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/10/22/Frontend/react-100vh/" title="React 모바일 디바이스 100vh 사용하기">React 모바일 디바이스 100vh 사용하기</a><time datetime="2024-10-22T06:41:15.000Z" title="작성일 2024-10-22 15:41:15">2024-10-22</time></div></div><div class="aside-list-item"><div class="content"><a class="title" href="/2024/10/20/React/react-test/" title="React 컴포넌트 테스트 하기">React 컴포넌트 테스트 하기</a><time datetime="2024-10-20T08:56:29.000Z" title="작성일 2024-10-20 17:56:29">2024-10-20</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>카테고리</span>
            <a class="card-more-btn" href="/categories/" title="더 보기">
      <i class="fas fa-angle-right"></i></a>
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AWS/"><span class="card-category-list-name">AWS</span><span class="card-category-list-count">29</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Algorithm/"><span class="card-category-list-name">Algorithm</span><span class="card-category-list-count">14</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CS/"><span class="card-category-list-name">CS</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Else/"><span class="card-category-list-name">Else</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Error/"><span class="card-category-list-name">Error</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Frontend/"><span class="card-category-list-name">Frontend</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Git/"><span class="card-category-list-name">Git</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/GraphQL/"><span class="card-category-list-name">GraphQL</span><span class="card-category-list-count">3</span></a></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>태그</span></div><div class="card-tag-cloud"><a href="/tags/Aurora-MySQL/" style="font-size: 1.1em; color: #999">Aurora MySQL</a> <a href="/tags/SAM/" style="font-size: 1.15em; color: #999b9e">SAM</a> <a href="/tags/Promise/" style="font-size: 1.1em; color: #999">Promise</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/Web/" style="font-size: 1.1em; color: #999">Web</a> <a href="/tags/git-submodule/" style="font-size: 1.1em; color: #999">git submodule</a> <a href="/tags/SSR/" style="font-size: 1.1em; color: #999">SSR</a> <a href="/tags/AWS-RDS/" style="font-size: 1.1em; color: #999">AWS RDS</a> <a href="/tags/ArgsType/" style="font-size: 1.1em; color: #999">ArgsType</a> <a href="/tags/CloudFront/" style="font-size: 1.1em; color: #999">CloudFront</a> <a href="/tags/Typescript/" style="font-size: 1.2em; color: #999da3">Typescript</a> <a href="/tags/Node-js/" style="font-size: 1.45em; color: #99a7ba">Node.js</a> <a href="/tags/Hexo/" style="font-size: 1.15em; color: #999b9e">Hexo</a> <a href="/tags/github-page/" style="font-size: 1.1em; color: #999">github page</a> <a href="/tags/InputType/" style="font-size: 1.1em; color: #999">InputType</a> <a href="/tags/Serverless/" style="font-size: 1.1em; color: #999">Serverless</a> <a href="/tags/React-Native/" style="font-size: 1.1em; color: #999">React Native</a> <a href="/tags/Javascript/" style="font-size: 1.5em; color: #99a9bf">Javascript</a> <a href="/tags/BOJ/" style="font-size: 1.3em; color: #99a1ac">BOJ</a> <a href="/tags/Windows/" style="font-size: 1.1em; color: #999">Windows</a> <a href="/tags/SQS/" style="font-size: 1.2em; color: #999da3">SQS</a> <a href="/tags/Else/" style="font-size: 1.1em; color: #999">Else</a> <a href="/tags/Javascript-heap-out-of-memory/" style="font-size: 1.1em; color: #999">Javascript heap out of memory</a> <a href="/tags/AWS-SDK/" style="font-size: 1.1em; color: #999">AWS SDK</a> <a href="/tags/test/" style="font-size: 1.1em; color: #999">test</a> <a href="/tags/Generator/" style="font-size: 1.1em; color: #999">Generator</a> <a href="/tags/webpack/" style="font-size: 1.25em; color: #999fa7">webpack</a> <a href="/tags/SPA/" style="font-size: 1.1em; color: #999">SPA</a> <a href="/tags/Kinesis/" style="font-size: 1.1em; color: #999">Kinesis</a> <a href="/tags/Algorithm/" style="font-size: 1.35em; color: #99a3b1">Algorithm</a> <a href="/tags/Handlebars/" style="font-size: 1.1em; color: #999">Handlebars</a> <a href="/tags/CodeDeploy-Agent/" style="font-size: 1.1em; color: #999">CodeDeploy Agent</a> <a href="/tags/nvm/" style="font-size: 1.1em; color: #999">nvm</a> <a href="/tags/Cloud-Computing/" style="font-size: 1.15em; color: #999b9e">Cloud Computing</a> <a href="/tags/Javascript30/" style="font-size: 1.4em; color: #99a5b6">Javascript30</a> <a href="/tags/window-resize/" style="font-size: 1.1em; color: #999">window.resize</a> <a href="/tags/NestJS/" style="font-size: 1.35em; color: #99a3b1">NestJS</a> <a href="/tags/Github-OAuth/" style="font-size: 1.1em; color: #999">Github OAuth</a> <a href="/tags/CodeCommit/" style="font-size: 1.15em; color: #999b9e">CodeCommit</a> <a href="/tags/heroku/" style="font-size: 1.1em; color: #999">heroku</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>아카이브</span>
      <a class="card-more-btn" href="/archives/" title="더 보기"><i class="fas fa-angle-right"></i></a>
    </div>
    <ul class="card-archive-list">
  
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/12/">
          <span class="card-archive-list-date">12월 2024</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/11/">
          <span class="card-archive-list-date">11월 2024</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/10/">
          <span class="card-archive-list-date">10월 2024</span>
          <span class="card-archive-list-count">4</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/03/">
          <span class="card-archive-list-date">3월 2024</span>
          <span class="card-archive-list-count">3</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/01/">
          <span class="card-archive-list-date">1월 2024</span>
          <span class="card-archive-list-count">4</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2023/12/">
          <span class="card-archive-list-date">12월 2023</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2023/11/">
          <span class="card-archive-list-date">11월 2023</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2023/10/">
          <span class="card-archive-list-date">10월 2023</span>
          <span class="card-archive-list-count">1</span>
        </a>
      </li>
    </ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>사이트 정보</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">글 수 :</div><div class="item-count">202</div></div><div class="webinfo-item"><div class="item-name">방문자 수 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">총 조회수 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">마지막 업데이트 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-12-02T07:10:54.484Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Soyeong Choi</div><div class="framework-info"><span>프레임워크 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>테마 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="라이트/다크 모드 전환"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="단일/이중 열 전환"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="설정"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="맨 위로"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>